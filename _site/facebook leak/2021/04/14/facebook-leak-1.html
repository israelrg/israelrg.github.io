<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/assets/normalize.css">
  <link rel="stylesheet" href="/assets/open-color.css">
  <link rel="stylesheet" href="/assets/monophase/styles.css">
  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="safs" />
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Facebook leak #1 | safs</title>
<meta name="generator" content="Jekyll v3.9.1" />
<meta property="og:title" content="Facebook leak #1" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Hace unos días se filtraron leaks de la base de datos de facebook. Esa información es pública y cualquiera puede descargarla. La información está dividida en países y en total son unos 14GB de datos comprimidos en .zip. Calculo que más o menos llegará a los 20GB de información en RAW. Estoy creando una web para que la gente pueda saber si su información esta comprometida y ver los datos concretos. De momento lo estoy haciendo con la base de datos de España, unos 450MB en .txt haciendo un total de unas 10.000.000 de cuentas comprometidas." />
<meta property="og:description" content="Hace unos días se filtraron leaks de la base de datos de facebook. Esa información es pública y cualquiera puede descargarla. La información está dividida en países y en total son unos 14GB de datos comprimidos en .zip. Calculo que más o menos llegará a los 20GB de información en RAW. Estoy creando una web para que la gente pueda saber si su información esta comprometida y ver los datos concretos. De momento lo estoy haciendo con la base de datos de España, unos 450MB en .txt haciendo un total de unas 10.000.000 de cuentas comprometidas." />
<link rel="canonical" href="http://localhost:4000/facebook%20leak/2021/04/14/facebook-leak-1.html" />
<meta property="og:url" content="http://localhost:4000/facebook%20leak/2021/04/14/facebook-leak-1.html" />
<meta property="og:site_name" content="safs" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-14T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Facebook leak #1" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://localhost:4000/facebook%20leak/2021/04/14/facebook-leak-1.html","headline":"Facebook leak #1","dateModified":"2021-04-14T00:00:00+02:00","datePublished":"2021-04-14T00:00:00+02:00","description":"Hace unos días se filtraron leaks de la base de datos de facebook. Esa información es pública y cualquiera puede descargarla. La información está dividida en países y en total son unos 14GB de datos comprimidos en .zip. Calculo que más o menos llegará a los 20GB de información en RAW. Estoy creando una web para que la gente pueda saber si su información esta comprometida y ver los datos concretos. De momento lo estoy haciendo con la base de datos de España, unos 450MB en .txt haciendo un total de unas 10.000.000 de cuentas comprometidas.","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/facebook%20leak/2021/04/14/facebook-leak-1.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <script async src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>
  
  

</head>

  <body>
    <div class="container">
      <header class="masthead">
  <div class="masthead-title">
    <a href="/" title="Home">safs</a>
    <small class="tagline"></small>
  </div>

  
</header>


      <main>
        <article class="post">
  <h1 class="post-title">Facebook leak #1</h1>
  <div class="post-meta">
    <time datetime="2021-04-14T00:00:00+02:00" itemprop="datePublished">
      14 Apr 2021
    </time><span> ~ </span><time datetime="2021-04-14T00:00:00+02:00" itemprop="dateModified">
        14 Apr 2021
      </time>
      <span> • </span>
      <span class="post-categories-section">
        <i class="post-categories-icon fas fa-folder"></i>
        <ul class="post-categories"><li>
              <span class="post-category">Facebook leak</span></li></ul>
      </span>
    
    
      <span> • </span>
      <span class="post-tags-section">
        <i class="post-tags-icon fas fa-tag"></i>
        <ul class="post-tags"><li>
              <span class="post-tag">facebook-leak</span></li></ul>
      </span>
    
  </div>

  <p>Hace unos días se filtraron leaks de la base de datos de facebook. Esa información es pública y cualquiera puede descargarla. 
La información está dividida en países y en total son unos 14GB de datos comprimidos en .zip. Calculo que más o menos llegará a los 20GB de información en RAW. 
Estoy creando una web para que la gente pueda saber si su información esta comprometida y ver los datos concretos. 
De momento lo estoy haciendo con la base de datos de España, unos 450MB en .txt haciendo un total de unas 10.000.000 de cuentas comprometidas.</p>

<p><img src="/assets/screenshots/14_04_2021_1.png" alt="imagen" /></p>

<p>Entre los datos que nos encontramos están el Nº de teléfono, ID Facebook, nombre y apellidos, localización, descripción, cuentas de correo, sexo y un etc más. Los campos estas separados por dos puntos “:” lo que hace muy fácil de entender. Por alguna razón deben de haber datos que faltan y algunos campos están separados por varios puntos dobles. Necesitamos limpiar el archivo antes de colocarlo en nuestra base de datos SQL. En mi caso estoy programándolo en MYSQL.
Para limpiarlo se me ocurrió una forma limpia de hacerlo y se trata de convertir cada “::” en “:”. Si le pasamos ese filtro varias veces obtendremos siempre como módulo un “:”. Easy.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sed</span> <span class="o">-</span><span class="n">i</span> <span class="s1">'s/::/:/g'</span> <span class="n">archivo</span><span class="p">.</span><span class="nf">txt</span></code></pre></figure>

<p>Podemos hacerlo con un script que lo haga iteradamente.
Siguiente reto esta en el fitting de las variables dentro de la base de datos. En mi caso y únicamente de prueba lo hice a lo bruto: Todo varchar con longitud de hasta 300 caracteres. ¿Podría convertir los Nº de tlf y el ID a int? Si, pero hacer fitting a tanta información es sinonimo de que cada 20.000 lineas te de un error.</p>

<h3 id="private-env">Private env</h3>
<p>La base de datos la tenia configurada, pero se ejecutaba en modo seguro reestrigiendome importar los datos. Después de indagar, solamete habia que neutralizar la variables poniendo private_env=” “ detro de mysql.init, debajo de mysqld. Con eso, copias el archivo a /var/lib/mysql-files/ y solucionado.</p>

<h3 id="conexion-closed">Conexion closed.</h3>
<p>Mysql tarda en importar tanta información. Tanto que por seguridad mysql cierra la conexión si queda mucho tiempo en iddle para que no se corrompa nada. Seguramete puedes modificar estos parametros y meterlos a lo bruto. Mi solución fue dividir en archivo en archivos de 1.000.000 de lineas cada uno. Para ello tenemos el comando:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">split</span> <span class="o">-</span><span class="n">l</span> <span class="mi">1000000</span> <span class="n">archivo</span><span class="p">.</span><span class="nf">txt</span></code></pre></figure>

<p>Por defecto split nos divide el archivo tomando el binario en si. Con -l toma como referencia el final de la linea, con lo que no se corrompe.</p>



  
</article>


  <aside class="related">
    <h2 class="related-title">Related posts</h2>
    <ul class="related-posts">
      
        <li>
          <a href="/jekyll/update/2021/05/15/welcome-to-jekyll.html">
            Welcome to Jekyll!
          </a>
          <small><time datetime="2021-05-15T17:14:38+02:00">15 May 2021</time></small>
        </li>
      
        <li>
          <a href="/servidores/2021/03/29/ssh-mysql-nginx.html">
            ssh, mysql, nginx
          </a>
          <small><time datetime="2021-03-29T00:00:00+02:00">29 Mar 2021</time></small>
        </li>
      
        <li>
          <a href="/lxc/2021/03/26/lxc2.html">
            LXC #2
          </a>
          <small><time datetime="2021-03-26T00:00:00+01:00">26 Mar 2021</time></small>
        </li>
      
    </ul>
  </aside>


      </main>

      <footer class="footer">
  <div class="footer-column">
    <p>
      <small>
        &copy;&nbsp;<time datetime="2021-05-15T18:26:30+02:00">2021</time>. All right reserved.
      </small>
    </p>
    <p>
      <small>
        Powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a> & <a href="https://github.com/zivhub/monophase" target="_blank">Monophase</a>
      </small>
    </p>
  </div>
  
</footer>

    </div>

    

    
  </body>
</html>
