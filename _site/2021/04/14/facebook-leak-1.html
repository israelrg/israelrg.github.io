<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Facebook leak #1 | Israel Rodriguez</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="Facebook leak #1" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Hace unos días se filtraron leaks de la base de datos de facebook. Esa información es pública y cualquiera puede descargarla. La información está dividida en países y en total son unos 14GB de datos comprimidos en .zip. Calculo que más o menos llegará a los 20GB de información en RAW. Estoy creando una web para que la gente pueda saber si su información esta comprometida y ver los datos concretos. De momento lo estoy haciendo con la base de datos de España, unos 450MB en .txt haciendo un total de unas 10.000.000 de cuentas comprometidas." />
<meta property="og:description" content="Hace unos días se filtraron leaks de la base de datos de facebook. Esa información es pública y cualquiera puede descargarla. La información está dividida en países y en total son unos 14GB de datos comprimidos en .zip. Calculo que más o menos llegará a los 20GB de información en RAW. Estoy creando una web para que la gente pueda saber si su información esta comprometida y ver los datos concretos. De momento lo estoy haciendo con la base de datos de España, unos 450MB en .txt haciendo un total de unas 10.000.000 de cuentas comprometidas." />
<link rel="canonical" href="http://localhost:4000/2021/04/14/facebook-leak-1" />
<meta property="og:url" content="http://localhost:4000/2021/04/14/facebook-leak-1" />
<meta property="og:site_name" content="Israel Rodriguez" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-14T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Facebook leak #1" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://localhost:4000/2021/04/14/facebook-leak-1","headline":"Facebook leak #1","dateModified":"2021-04-14T00:00:00+02:00","datePublished":"2021-04-14T00:00:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2021/04/14/facebook-leak-1"},"description":"Hace unos días se filtraron leaks de la base de datos de facebook. Esa información es pública y cualquiera puede descargarla. La información está dividida en países y en total son unos 14GB de datos comprimidos en .zip. Calculo que más o menos llegará a los 20GB de información en RAW. Estoy creando una web para que la gente pueda saber si su información esta comprometida y ver los datos concretos. De momento lo estoy haciendo con la base de datos de España, unos 450MB en .txt haciendo un total de unas 10.000.000 de cuentas comprometidas.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<meta name="keywords" content="Facebook leak" />

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" href="/favicon.ico"/>
<link rel="alternate" type="application/rss+xml" title="Israel Rodriguez - " href="/feed.xml" />
<link rel="stylesheet" type="text/css" href="/assets/css/base.css" />
<link rel="stylesheet" type="text/css" href="/assets/css/highlight.css" />

<!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->


<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async ></script>


<script src="/assets/script/jekyllpaper.js" async ></script>
<script src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js" onload="javascript:loadMermaid();" async></script>


</head>
<body>
  <div class="container-wrapper">
    <header class="container-header">
      <div class="header-info">
  <span class="header-info-name">Israel Rodriguez</span>
  <span class="header-info-desc"></span>
</div>
<nav class="header-nav">
  <ul class="header-main-nav">
  
    <li class="header-main-nav-item"><a href="/">Index</a></li>
  
    <li class="header-main-nav-item"><a href="/category">Categories</a></li>
  
    <li class="header-main-nav-item"><a href="/about">About</a></li>
  
  </ul>
</nav>
    </header>
    <main class="container-main">
      <article class="container-post">
  <div class="post-title">
    <h1>Facebook leak #1</h1>
  </div>
  <div class="post-author">
    <span>Israel Rodriguez</span>
  </div>
  <div class="post-content">
    <p>Hace unos días se filtraron leaks de la base de datos de facebook. Esa información es pública y cualquiera puede descargarla. 
La información está dividida en países y en total son unos 14GB de datos comprimidos en .zip. Calculo que más o menos llegará a los 20GB de información en RAW. 
Estoy creando una web para que la gente pueda saber si su información esta comprometida y ver los datos concretos. 
De momento lo estoy haciendo con la base de datos de España, unos 450MB en .txt haciendo un total de unas 10.000.000 de cuentas comprometidas.</p>

<p><img src="/assets/screenshots/14_04_2021_1.png" alt="imagen" /></p>

<p>Entre los datos que nos encontramos están el Nº de teléfono, ID Facebook, nombre y apellidos, localización, descripción, cuentas de correo, sexo y un etc más. Los campos estas separados por dos puntos “:” lo que hace muy fácil de entender. Por alguna razón deben de haber datos que faltan y algunos campos están separados por varios puntos dobles. Necesitamos limpiar el archivo antes de colocarlo en nuestra base de datos SQL. En mi caso estoy programándolo en MYSQL.
Para limpiarlo se me ocurrió una forma limpia de hacerlo y se trata de convertir cada “::” en “:”. Si le pasamos ese filtro varias veces obtendremos siempre como módulo un “:”. Easy.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sed</span> <span class="o">-</span><span class="n">i</span> <span class="s1">'s/::/:/g'</span> <span class="n">archivo</span><span class="p">.</span><span class="nf">txt</span></code></pre></figure>

<p>Podemos hacerlo con un script que lo haga iteradamente.
Siguiente reto esta en el fitting de las variables dentro de la base de datos. En mi caso y únicamente de prueba lo hice a lo bruto: Todo varchar con longitud de hasta 300 caracteres. ¿Podría convertir los Nº de tlf y el ID a int? Si, pero hacer fitting a tanta información es sinonimo de que cada 20.000 lineas te de un error.</p>

<h3 id="private-env">Private env</h3>
<p>La base de datos la tenia configurada, pero se ejecutaba en modo seguro reestrigiendome importar los datos. Después de indagar, solamete habia que neutralizar la variables poniendo private_env=” “ detro de mysql.init, debajo de mysqld. Con eso, copias el archivo a /var/lib/mysql-files/ y solucionado.</p>

<h3 id="conexion-closed">Conexion closed.</h3>
<p>Mysql tarda en importar tanta información. Tanto que por seguridad mysql cierra la conexión si queda mucho tiempo en iddle para que no se corrompa nada. Seguramete puedes modificar estos parametros y meterlos a lo bruto. Mi solución fue dividir en archivo en archivos de 1.000.000 de lineas cada uno. Para ello tenemos el comando:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">split</span> <span class="o">-</span><span class="n">l</span> <span class="mi">1000000</span> <span class="n">archivo</span><span class="p">.</span><span class="nf">txt</span></code></pre></figure>

<p>Por defecto split nos divide el archivo tomando el binario en si. Con -l toma como referencia el final de la linea, con lo que no se corrompe.</p>


  </div>
  <div class="post-info">
    <div class="post-date">
      Written on 2021-04-14, updated at 2021-04-14.
    </div>
    <div class="post-categories">
      <span>Categories: </span>
      
      <a href="/category/facebook-leak" class="post-category">Facebook leak</a>
      
    </div>
    <div class="post-tags">
      <span>Tags: </span>
      
      <a href="/tag/facebook-leak" class="post-tag">Facebook leak</a>
      
    </div>
    <div class="post-tools">
      
      
      <div>
        <span>Previous: </span><a href="/2021/03/29/ssh-mysql-nginx">ssh, mysql, nginx</a>
      </div>
      
    </div>
    
  </div>
</article>
    </main>
    <footer class="container-footer">
      <div class="footer-copyright">
  <span class="footer-copyright-text float-left">Copyright &copy; 2021. .</span>
  <span class="footer-copyright-text float-right">
    Powered by <a href="https://jekyllrb.com/">Jekyll</a>, themed by <a href="https://github.com/ghosind/Jekyll-Paper">Jekyll-Paper</a>.
  </span>
</div>
    </footer>
  </div>
</body>
</html>