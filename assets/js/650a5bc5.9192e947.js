"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[656],{3192:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/image-20250813195308-i1dtanz-2eeaca04fe5317c2c20ae533fcd38cf0.png"},5656:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"Documentaci\xf3n/High Availability Cluster en RH10/Instalaci\xf3n","title":"Instalaci\xf3n pacemaker | corosync","description":"<img src=\'httpsimage/svg%2bxml;base64,","source":"@site/docs/Documentaci\xf3n/High Availability Cluster en RH10/Instalaci\xf3n.md","sourceDirName":"Documentaci\xf3n/High Availability Cluster en RH10","slug":"/Documentaci\xf3n/High Availability Cluster en RH10/Instalaci\xf3n","permalink":"/docs/Documentaci\xf3n/High Availability Cluster en RH10/Instalaci\xf3n","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Instalaci\xf3n pacemaker | corosync"},"sidebar":"tutorialSidebar","next":{"title":"LPI 102","permalink":"/docs/Documentaci\xf3n/LPIC 102 - EXAM"}}');var r=a(4848),s=a(8453);const c={title:"Instalaci\xf3n pacemaker | corosync"},l="Instalaci\xf3n y configuraci\xf3n inicial de pacemaker | corosync en RH10",d={},o=[{value:"Resumen",id:"resumen",level:2},{value:"Arquitectura",id:"arquitectura",level:2},{value:"Instalaci\xf3n inicial",id:"instalaci\xf3n-inicial",level:2},{value:"Instalaci\xf3n de Pacemaker",id:"instalaci\xf3n-de-pacemaker",level:3},{value:"Configuraci\xf3n del usuario hacluster",id:"configuraci\xf3n-del-usuario-hacluster",level:3},{value:"Inicio del servicio pcsd",id:"inicio-del-servicio-pcsd",level:3},{value:"Creaci\xf3n del Cl\xfaster",id:"creaci\xf3n-del-cl\xfaster",level:3},{value:"Verificaci\xf3n y Resoluci\xf3n de Errores en el Cl\xfaster",id:"verificaci\xf3n-y-resoluci\xf3n-de-errores-en-el-cl\xfaster",level:3},{value:"Verificaci\xf3n del Servicio Pacemaker",id:"verificaci\xf3n-del-servicio-pacemaker",level:4},{value:"Configuraci\xf3n de Recursos en el Cl\xfaster",id:"configuraci\xf3n-de-recursos-en-el-cl\xfaster",level:3},{value:"Deshabilitar STONITH",id:"deshabilitar-stonith",level:4},{value:"Crear Recurso de IP Virtual (VIP)",id:"crear-recurso-de-ip-virtual-vip",level:4},{value:"Configuraci\xf3n del Servidor Web Apache",id:"configuraci\xf3n-del-servidor-web-apache",level:3},{value:"Instalaci\xf3n de Apache",id:"instalaci\xf3n-de-apache",level:4},{value:"Configuraci\xf3n del Archivo PID",id:"configuraci\xf3n-del-archivo-pid",level:4},{value:"Configuraci\xf3n del Firewall",id:"configuraci\xf3n-del-firewall",level:4},{value:"Creaci\xf3n del Recurso Web en el Cl\xfaster",id:"creaci\xf3n-del-recurso-web-en-el-cl\xfaster",level:4},{value:"Verificaci\xf3n del estado de los recursos",id:"verificaci\xf3n-del-estado-de-los-recursos",level:4},{value:"Configuraci\xf3n y Depuraci\xf3n de Recursos",id:"configuraci\xf3n-y-depuraci\xf3n-de-recursos",level:3},{value:"Verificar Configuraci\xf3n de Recursos",id:"verificar-configuraci\xf3n-de-recursos",level:4},{value:"Depuraci\xf3n de Recursos",id:"depuraci\xf3n-de-recursos",level:4},{value:"Resultado Final del Cl\xfaster de Alta Disponibilidad",id:"resultado-final-del-cl\xfaster-de-alta-disponibilidad",level:2},{value:"Acceso al Servicio Web",id:"acceso-al-servicio-web",level:3},{value:"Failover Autom\xe1tico",id:"failover-autom\xe1tico",level:3},{value:"Escenario de Ca\xedda de node1",id:"escenario-de-ca\xedda-de-node1",level:4}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"instalaci\xf3n-y-configuraci\xf3n-inicial-de-pacemaker--corosync-en-rh10",children:"Instalaci\xf3n y configuraci\xf3n inicial de pacemaker | corosync en RH10"})}),"\n",(0,r.jsx)("div",{children:(0,r.jsx)("a",{children:(0,r.jsx)("img",{src:"https://img.shields.io/badge/2025_08_13-100000?style=for-the-badge&logo=data:image/svg%2bxml;base64,\nPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBT\nVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xz\nIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAy\nNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRo\nIGQ9Ik0zIDlIMjFNMTcgMTMuMDAxNEw3IDEzTTEwLjMzMzMgMTcuMDAwNUw3IDE3TTcgM1Y1TTE3\nIDNWNU02LjIgMjFIMTcuOEMxOC45MjAxIDIxIDE5LjQ4MDIgMjEgMTkuOTA4IDIwLjc4MkMyMC4y\nODQzIDIwLjU5MDMgMjAuNTkwMyAyMC4yODQzIDIwLjc4MiAxOS45MDhDMjEgMTkuNDgwMiAyMSAx\nOC45MjAxIDIxIDE3LjhWOC4yQzIxIDcuMDc5ODkgMjEgNi41MTk4NCAyMC43ODIgNi4wOTIwMkMy\nMC41OTAzIDUuNzE1NjkgMjAuMjg0MyA1LjQwOTczIDE5LjkwOCA1LjIxNzk5QzE5LjQ4MDIgNSAx\nOC45MjAxIDUgMTcuOCA1SDYuMkM1LjA3OTkgNSA0LjUxOTg0IDUgNC4wOTIwMiA1LjIxNzk5QzMu\nNzE1NjkgNS40MDk3MyAzLjQwOTczIDUuNzE1NjkgMy4yMTc5OSA2LjA5MjAyQzMgNi41MTk4NCAz\nIDcuMDc5ODkgMyA4LjJWMTcuOEMzIDE4LjkyMDEgMyAxOS40ODAyIDMuMjE3OTkgMTkuOTA4QzMu\nNDA5NzMgMjAuMjg0MyAzLjcxNTY5IDIwLjU5MDMgNC4wOTIwMiAyMC43ODJDNC41MTk4NCAyMSA1\nLjA3OTg5IDIxIDYuMiAyMVoiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJv\na2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4NCjwvc3ZnPg==\n&logoColor=FFFFFF&labelColor=ffb454&color=ffb454"})})}),"\n",(0,r.jsx)(n.h2,{id:"resumen",children:"Resumen"}),"\n",(0,r.jsxs)(n.p,{children:["Este manual presenta la instalaci\xf3n de un cl\xfaster de Pacemaker y Corosync de dos nodos en RHEL 10 (AlmaLinux). La configuraci\xf3n no contar\xe1 con los servicios de fencing/STONITH, \xfanicamente se realizar\xe1 la configuraci\xf3n m\xe1s b\xe1sica posible, con una IP virtual (VIP) y un servicio web Apache. Se utilizar\xe1 PCS siguiendo el ",(0,r.jsx)(n.a,{href:"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html/configuring_and_managing_high_availability_clusters/assembly_creating-high-availability-cluster-configuring-and-managing-high-availability-clusters",children:"manual oficial"})]}),"\n",(0,r.jsx)(n.h2,{id:"arquitectura",children:"Arquitectura"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"image",src:a(3192).A+"",width:"2282",height:"984"})}),"\n",(0,r.jsx)(n.p,{children:"El cluster se compondr\xe1 de dos nodos [ node1 | node2 ]."}),"\n",(0,r.jsx)(n.h2,{id:"instalaci\xf3n-inicial",children:"Instalaci\xf3n inicial"}),"\n",(0,r.jsx)(n.p,{children:"Configuraci\xf3n inicial de los nodos"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node1:~# hostnamectl\n     Static hostname: node1\n           Icon name: computer-vm\n             Chassis: vm \ud83d\uddb4\n          Machine ID: 814d7fcf9faf4d688c112c9e9d089fb6\n             Boot ID: ca03f5039d9c42e38ac8c05e5bb3148e\n        Product UUID: eef6855a-4671-4f04-b818-f20b3977a18e\n      Virtualization: kvm\n    Operating System: AlmaLinux 10.0 (Purple Lion)         \n         CPE OS Name: cpe:/o:almalinux:almalinux:10::baseos\n      OS Support End: Fri 2035-06-01\nOS Support Remaining: 9y 9month 2w 3d                      \n              Kernel: Linux 6.12.0-55.24.1.el10_0.x86_64\n\nroot@node2:~# hostnamectl\n     Static hostname: node2\n           Icon name: computer-vm\n             Chassis: vm \ud83d\uddb4\n          Machine ID: 5d9ef93bd114429a848a07d9514150d3\n             Boot ID: f46b32d55404455aa6ffd91b7d989306\n        Product UUID: 1bd08f6f-6988-4367-998a-618a6cd7f94b\n      Virtualization: kvm\n    Operating System: AlmaLinux 10.0 (Purple Lion)         \n         CPE OS Name: cpe:/o:almalinux:almalinux:10::baseos\n      OS Support End: Fri 2035-06-01\nOS Support Remaining: 9y 9month 2w 3d                      \n              Kernel: Linux 6.12.0-55.24.1.el10_0.x86_64\n"})}),"\n",(0,r.jsx)(n.p,{children:"Antes de comenzar a configurar el cl\xfaster, registrar los nombres en ambos nodos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",metastring:'title="/etc/hosts"',children:"10.10.10.5 node1\n10.10.10.6 node2\n"})}),"\n",(0,r.jsx)(n.h3,{id:"instalaci\xf3n-de-pacemaker",children:"Instalaci\xf3n de Pacemaker"}),"\n",(0,r.jsx)(n.p,{children:"Para instalar Pacemaker es necesario activar los repositorios de alta disponibilidad. Seguir los siguientes pasos en ambos nodos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dnf repolist --all \ndnf config-manager --set-enabled highavailability\ndnf update\ndnf install pacemaker pcs\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuraci\xf3n-del-usuario-hacluster",children:"Configuraci\xf3n del usuario hacluster"}),"\n",(0,r.jsxs)(n.p,{children:["Por defecto, una vez instalado Pacemaker, genera un usuario llamado ",(0,r.jsx)(n.code,{children:"hacluster"}),". Es necesario cambiar la contrase\xf1a de este usuario, ya que ser\xe1 el encargado de gestionar el cl\xfaster:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node1:~# getent passwd hacluster\nhacluster:x:189:189:cluster user:/var/lib/pacemaker:/sbin/nologin\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Para este caso, ejecutar ",(0,r.jsx)(n.code,{children:"# passwd hacluster"})," y modificar la contrase\xf1a."]}),"\n",(0,r.jsx)(n.h3,{id:"inicio-del-servicio-pcsd",children:"Inicio del servicio pcsd"}),"\n",(0,r.jsxs)(n.p,{children:["En ambos nodos es necesario arrancar el servicio ",(0,r.jsx)(n.code,{children:"pcsd.service"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node1:~# systemctl start pcsd\nroot@node1:~# systemctl enable pcsd\nroot@node1:~# systemctl status pcsd\n\u25cf pcsd.service - PCS GUI and remote configuration interface\n     Loaded: loaded (/usr/lib/systemd/system/pcsd.service; disabled; preset: disabled)\n     Active: active (running) since Wed 2025-08-13 18:32:42 CEST; 5s ago\n Invocation: 2680a56f287740d98f8ebec76a0b8df3\n       Docs: man:pcsd(8)\n             man:pcs(8)\n   Main PID: 11633 (pcsd)\n      Tasks: 31 (limit: 47376)\n     Memory: 459.4M (peak: 459.8M)\n        CPU: 6.654s\n     CGroup: /system.slice/pcsd.service\n"})}),"\n",(0,r.jsx)(n.h3,{id:"creaci\xf3n-del-cl\xfaster",children:"Creaci\xf3n del Cl\xfaster"}),"\n",(0,r.jsx)(n.p,{children:"Una vez configurado, el entorno estar\xe1 listo para crear el cl\xfaster y dar de alta los nodos. Primero, generar las reglas en los firewall de ambos nodos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"firewall-cmd --permanent --add-service=high-availability\nfirewall-cmd --reload\n"})}),"\n",(0,r.jsx)(n.p,{children:"A partir de aqu\xed, los comandos de PCS se realizar\xe1n solo en un nodo. Lo primero es autenticar ambos nodos con el usuario hacluster y la contrase\xf1a establecida anteriormente:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node1:~# pcs host auth node1 node2\nUsername: hacluster\nPassword: \nnode2: Authorized\nnode1: Authorized\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Una vez autenticados, se puede crear el cl\xfaster. En este caso, se llamar\xe1 al cl\xfaster ",(0,r.jsx)(n.code,{children:"megatroncluster"}),". Despu\xe9s de esto, se debe arrancar de forma manual:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node1:~# pcs cluster setup megatroncluster node1 node2\nroot@node1:~# pcs cluster start --all\n"})}),"\n",(0,r.jsxs)(n.p,{children:["En caso de necesitar volver atr\xe1s se puede eliminar el cluster ejecutando ",(0,r.jsx)(n.code,{children:"# pcs cluster destroy"}),". Una vez arrancado el cluster ya se puede ver el estado"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node2:~# pcs cluster status\nCluster Status:\n Cluster Summary:\n   * Stack: corosync (Pacemaker is running)\n   * Current DC: node1 (version 3.0.0-5.el10-7e73fd0) - partition with quorum\n   * Last updated: Wed Aug 13 19:03:52 2025 on node2\n   * Last change:  Wed Aug 13 19:03:19 2025 by hacluster via hacluster on node1\n   * 2 nodes configured\n   * 0 resource instances configured\n Node List:\n   * Online: [ node1 node2 ]\n\nPCSD Status:\n  node2: Online\n  node1: Online\n"})}),"\n",(0,r.jsx)(n.h3,{id:"verificaci\xf3n-y-resoluci\xf3n-de-errores-en-el-cl\xfaster",children:"Verificaci\xf3n y Resoluci\xf3n de Errores en el Cl\xfaster"}),"\n",(0,r.jsxs)(n.p,{children:["Si el cl\xfaster muestra errores con estado de nodo UNCLEAN, es necesario comprobar que el servicio ",(0,r.jsx)(n.code,{children:"pacemaker.service"})," est\xe9 levantado. De lo contrario, PCS dar\xe1 error."]}),"\n",(0,r.jsx)(n.h4,{id:"verificaci\xf3n-del-servicio-pacemaker",children:"Verificaci\xf3n del Servicio Pacemaker"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# systemctl status pacemaker.service\n# systemctl start pacemaker.service\n# systemctl enable pacemaker.service\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuraci\xf3n-de-recursos-en-el-cl\xfaster",children:"Configuraci\xf3n de Recursos en el Cl\xfaster"}),"\n",(0,r.jsx)(n.h4,{id:"deshabilitar-stonith",children:"Deshabilitar STONITH"}),"\n",(0,r.jsx)(n.p,{children:"Dado que no se tiene instalado el agente de fencing, es necesario deshabilitar STONITH:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# pcs property set stonith-enabled=false\n"})}),"\n",(0,r.jsx)(n.h4,{id:"crear-recurso-de-ip-virtual-vip",children:"Crear Recurso de IP Virtual (VIP)"}),"\n",(0,r.jsxs)(n.p,{children:["La IP virtual ser\xe1 la encargada de balancear el servicio en el nodo correcto. Los recursos se agrupar\xe1n para que balanceen simult\xe1neamente. En este caso, el grupo se llamar\xe1 ",(0,r.jsx)(n.code,{children:"apachegroup"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node1:~# pcs resource create VirtualIP IPaddr2 ip=10.10.10.100 cidr_netmask=24 --group apachegroup\nroot@node1:~# pcs status\n---\nFull List of Resources:\n  * Resource Group: apachegroup:\n    * VirtualIP\t(ocf:heartbeat:IPaddr2):\t Started node1\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuraci\xf3n-del-servidor-web-apache",children:"Configuraci\xf3n del Servidor Web Apache"}),"\n",(0,r.jsx)(n.h4,{id:"instalaci\xf3n-de-apache",children:"Instalaci\xf3n de Apache"}),"\n",(0,r.jsx)(n.p,{children:"Instalar Apache en ambos nodos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dnf install -y httpd wget\n"})}),"\n",(0,r.jsx)(n.h4,{id:"configuraci\xf3n-del-archivo-pid",children:"Configuraci\xf3n del Archivo PID"}),"\n",(0,r.jsxs)(n.p,{children:["A\xf1adir la siguiente l\xednea en ",(0,r.jsx)(n.code,{children:"/etc/httpd/conf/httpd.conf"})," en ambos nodos:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",metastring:'title="/etc/httpd/conf/httpd.conf"',children:"PidFile /var/run/httpd/httpd.pid\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Esta configuraci\xf3n es necesaria porque el proceso es controlado por systemd. La directiva ",(0,r.jsx)(n.code,{children:"PidFile"})," especifica el archivo donde Apache almacena su ID de proceso principal (PID)."]}),"\n",(0,r.jsx)(n.h4,{id:"configuraci\xf3n-del-firewall",children:"Configuraci\xf3n del Firewall"}),"\n",(0,r.jsx)(n.p,{children:"A\xf1adir las siguientes reglas de firewall en ambos nodos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"firewall-cmd --permanent --add-service=http\nfirewall-cmd --permanent --zone=public --add-service=http\nfirewall-cmd --reload\n"})}),"\n",(0,r.jsx)(n.h4,{id:"creaci\xf3n-del-recurso-web-en-el-cl\xfaster",children:"Creaci\xf3n del Recurso Web en el Cl\xfaster"}),"\n",(0,r.jsx)(n.p,{children:"Siguiendo la gu\xeda oficial, crear el recurso de Apache:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'pcs resource create Website apache configfile="/etc/httpd/conf/httpd.conf" statusurl="http://127.0.0.1/server-status" --group apachegroup\n'})}),"\n",(0,r.jsx)(n.h4,{id:"verificaci\xf3n-del-estado-de-los-recursos",children:"Verificaci\xf3n del estado de los recursos"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node1:~# pcs status\n---\nFull List of Resources:\n  * Resource Group: apachegroup:\n    * VirtualIP\t(ocf:heartbeat:IPaddr2):\t Started node1\n    * Website\t(ocf:heartbeat:apache):\t Started node1\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuraci\xf3n-y-depuraci\xf3n-de-recursos",children:"Configuraci\xf3n y Depuraci\xf3n de Recursos"}),"\n",(0,r.jsx)(n.h4,{id:"verificar-configuraci\xf3n-de-recursos",children:"Verificar Configuraci\xf3n de Recursos"}),"\n",(0,r.jsx)(n.p,{children:"Para comprobar la configuraci\xf3n de los recursos individuales, utilizar los siguientes comandos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node1:~# pcs resource config Website\nroot@node1:~# pcs resource config VirtualIP\n"})}),"\n",(0,r.jsx)(n.h4,{id:"depuraci\xf3n-de-recursos",children:"Depuraci\xf3n de Recursos"}),"\n",(0,r.jsx)(n.p,{children:"En caso de problemas al iniciar los recursos, se puede utilizar el modo de depuraci\xf3n:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node1:~# pcs resource debug-start Website\n"})}),"\n",(0,r.jsx)(n.h2,{id:"resultado-final-del-cl\xfaster-de-alta-disponibilidad",children:"Resultado Final del Cl\xfaster de Alta Disponibilidad"}),"\n",(0,r.jsx)(n.h3,{id:"acceso-al-servicio-web",children:"Acceso al Servicio Web"}),"\n",(0,r.jsx)(n.p,{children:"El servicio web estar\xe1 accesible mediante la direcci\xf3n IP virtual:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"URL"}),": ",(0,r.jsx)(n.code,{children:"http://10.10.10.100:80"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"image",src:a(7480).A+"",width:"2126",height:"988"})}),"\n",(0,r.jsx)(n.h3,{id:"failover-autom\xe1tico",children:"Failover Autom\xe1tico"}),"\n",(0,r.jsx)(n.h4,{id:"escenario-de-ca\xedda-de-node1",children:"Escenario de Ca\xedda de node1"}),"\n",(0,r.jsxs)(n.p,{children:["Cuando ",(0,r.jsx)(n.code,{children:"node1"})," se apaga, el cl\xfaster realiza autom\xe1ticamente la migraci\xf3n de recursos:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@node2:~# pcs status\n---\nNode List:\n  * Online: [ node2 ]\n  * OFFLINE: [ node1 ] <=================\nFull List of Resources:\n  * Resource Group: apachegroup:\n    * VirtualIP\t(ocf:heartbeat:IPaddr2):\t Started node2\n    * Website\t(ocf:heartbeat:apache):\t Started node2\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u200d## Fuentes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["[ Guia oficial de Redhat ] ",(0,r.jsx)(n.a,{href:"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html/configuring_and_managing_high_availability_clusters/assembly_creating-high-availability-cluster-configuring-and-managing-high-availability-clusters",children:"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html/configuring_and_managing_high_availability_clusters/assembly_creating-high-availability-cluster-configuring-and-managing-high-availability-clusters"})]}),"\n",(0,r.jsxs)(n.li,{children:["[ Resoluci\xf3n problema arranque apache ] ",(0,r.jsx)(n.a,{href:"https://serverfault.com/questions/915716/apache-failed-to-start-in-pacemaker",children:"https://serverfault.com/questions/915716/apache-failed-to-start-in-pacemaker"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},7480:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/image-20250813194520-2ji784t-4ed9280cb8442b538b0d7011380c8a81.png"},8453:(e,n,a)=>{a.d(n,{R:()=>c,x:()=>l});var i=a(6540);const r={},s=i.createContext(r);function c(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);